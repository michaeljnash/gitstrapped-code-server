<!doctype html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="__CSP__" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Codestrap</title>
  <link rel="stylesheet" href="__CSS_URI__" />
</head>
<body>
  <div id="app">
    <div class="toprow row center-row">
      <button id="btn-docs">Docs</button>
      <button id="btn-cli">CLI</button>
      <button id="reboot">Reboot</button>
    </div>

    <div class="section" id="sec-passwd">
      <div class="row center-row">
        <h3>Change password</h3>
      </div>

      <div class="tabs row center-row">
        <button class="tab active" id="tab-login" aria-selected="true">Login</button>
        <button class="tab" id="tab-sudo" aria-selected="false" title="Sudo password">Sudo</button>
      </div>

      <!-- LOGIN PANEL -->
      <div class="tabpanel" id="panel-login">
        <label>New login password</label>
        <div class="input-with-eye">
          <input id="login-pw" type="password" class="pad-right-eye" placeholder="at least 8 characters" />
          <button class="eye-btn" type="button" id="login-pw-eye" title="Show/Hide" aria-label="Show/Hide" tabindex="-1">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7Z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
        <label style="margin-top:6px;">Confirm login password</label>
        <div class="input-with-eye">
          <input id="login-pw2" type="password" class="pad-right-eye" placeholder="re-enter password" />
          <button class="eye-btn" type="button" id="login-pw2-eye" title="Show/Hide" aria-label="Show/Hide" tabindex="-1">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7Z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
        <div id="login-error" class="error" role="alert" style="display:none;"></div>
        <div class="row center-row" style="margin-top:16px;">
          <button id="login-run">Change</button>
        </div>
      </div>

      <!-- SUDO PANEL -->
      <div class="tabpanel" id="panel-sudo" hidden>
        <label>New sudo password</label>
        <div class="input-with-eye">
          <input id="sudo-pw" type="password" class="pad-right-eye" placeholder="at least 8 characters" />
          <button class="eye-btn" type="button" id="sudo-pw-eye" title="Show/Hide" aria-label="Show/Hide" tabindex="-1">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7Z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
        <label style="margin-top:6px;">Confirm sudo password</label>
        <div class="input-with-eye">
          <input id="sudo-pw2" type="password" class="pad-right-eye" placeholder="re-enter password" />
          <button class="eye-btn" type="button" id="sudo-pw2-eye" title="Show/Hide" aria-label="Show/Hide" tabindex="-1">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7Z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
        <div id="sudo-error" class="error" role="alert" style="display:none;"></div>
        <div class="row center-row" style="margin-top:16px;">
          <button id="sudo-run">Change</button>
        </div>
      </div>
    </div>

    <div class="section" id="sec-config">
      <div class="row center-row">
        <h3>Bootstrap config</h3>
      </div>
      <div class="row"><label><input type="checkbox" id="cfg-settings" checked /> Merge <code>settings.json</code></label></div>
      <div class="row"><label><input type="checkbox" id="cfg-keyb" checked /> Merge <code>keybindings.json</code></label></div>
      <div class="row"><label><input type="checkbox" id="cfg-tasks" checked /> Merge <code>tasks.json</code></label></div>
      <div class="row"><label><input type="checkbox" id="cfg-ext" checked /> Merge <code>extensions.json</code></label></div>
      <div class="row center-row" style="margin-top:16px;">
        <button id="cfg-run">Merge</button>
      </div>
    </div>

    <div class="section" id="sec-ext">
      <div class="row center-row">
        <h3>Manage extensions</h3>
      </div>
      <label>Uninstall scope</label>
      <select id="ext-un">
        <option value="">(none)</option>
        <option value="missing">missing (cleanup)</option>
        <option value="all">all (remove everything)</option>
      </select>
      <label style="margin-top:6px;">Install scope</label>
      <select id="ext-in">
        <option value="">(none)</option>
        <option value="missing">missing</option>
        <option value="all">all (update to latest)</option>
      </select>
      <div id="ext-error" class="error" role="alert" style="display:none;"></div>
      <div class="row center-row" style="margin-top:16px;">
        <button id="ext-run">Apply</button>
      </div>
    </div>

    <div class="section" id="sec-github">
      <div class="row center-row">
        <h3>Bootstrap GitHub</h3>
      </div>
      <div class="row" id="gh-env-row"><label><input type="checkbox" id="gh-fill-env" /> Use env vars</label></div>
      <div id="gh-fields">
        <label>Username</label>
        <input id="gh-user" type="text" placeholder="GITHUB_USERNAME" />
        <label>Token (classic)</label>
        <div class="input-with-eye">
          <input id="gh-token" type="password" class="pad-right-eye" placeholder="GITHUB_TOKEN" />
          <button class="eye-btn" type="button" id="gh-token-eye" title="Show/Hide" aria-label="Show/Hide" tabindex="-1">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7Z"/><circle cx="12" cy="12" r="3"/></svg>
          </button>
        </div>
        <label>Name (blank=use GitHub username)</label>
        <input id="git-name" type="text" placeholder="GIT_NAME" />
        <label>Email (blank=use GitHub account email)</label>
        <input id="git-email" type="text" placeholder="GIT_EMAIL" />
        <label>Repos (one per line; commas will become new lines)</label>
        <textarea id="gh-repos" placeholder="GITHUB_REPOS" rows="1"></textarea>
        <div class="row"><label><input type="checkbox" id="gh-pull" checked /> Pull existing repos (fast-forward)</label></div>
      </div>
      <div class="row center-row" style="margin-top:16px;">
        <button id="gh-run">Run</button>
      </div>
    </div>
  </div>

  <script nonce="__NONCE__" src="__JS_URI__"></script>
</body>
</html>
